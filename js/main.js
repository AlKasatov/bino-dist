"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

$(document).ready(function () {
  var _Swiper;

  new Swiper(".swiper-container", (_Swiper = {
    direction: "horizontal",
    loop: !0,
    effect: "fade",
    navigation: !0,
    pagination: {
      el: ".swiper-pagination"
    }
  }, _defineProperty(_Swiper, "navigation", {
    nextEl: ".next",
    prevEl: ".prev"
  }), _defineProperty(_Swiper, "scrollbar", {
    el: ".swiper-scrollbar"
  }), _Swiper));
  $(".spincrement").each(function () {
    $(this).text("0");
  });
  var e = $(".header").outerHeight() + $(".features").outerHeight() + $(".history").outerHeight() - 200;
  $(window).on("scroll", function () {
    $(window).scrollTop() > e && ($(".spincrement").spincrement({
      thousandSeparator: "",
      duration: 3e3
    }), $(window).on("scroll", null));
  }), $(".stat").parallax({
    imageSrc: "img/people.jpg",
    speed: .1
  }), $(".js-form").validate(), $(".js-mask-phone").inputmask("+7 (999) 999 99-99 "), $.validator.addMethod("js-mask-phone", function (e, t) {
    return this.optional(t) || 10 === $(t).inputmask("unmaskedvalue").length;
  }, "Введите корректный номер");
  var t = window.matchMedia("(min-width: 575px)");

  function n(e) {
    var t = 0;

    for (var _t = 0; _t < e.length; _t++) {
      e[_t].style.height = "";
    }

    for (var _n = 0; _n < e.length; _n++) {
      e[_n].clientHeight > t && (t = e[_n].clientHeight);
    }

    for (var _n2 = 0; _n2 < e.length; _n2++) {
      e[_n2].style.height = t + "px";
    }
  }

  window.addEventListener("resize", function () {
    var e;
    e || (e = setTimeout(function () {
      e = null, n(document.querySelectorAll(".feature__title")), n(document.querySelectorAll(".slide__inner"));
      var o = document.querySelectorAll(".feature__text");
      if (t.matches) n(o);else for (var _e = 0; _e < o.length; _e++) {
        o[_e].style.height = "";
      }
    }, 1e3));
  }), n(document.querySelectorAll(".feature__title")), n(document.querySelectorAll(".slide__inner")), t.matches && n(document.querySelectorAll(".feature__text")), document.querySelector(".js-topmenu-toggle").addEventListener("click", function () {
    document.querySelector(".menu").classList.toggle("menu--opened"), this.classList.toggle("top__toggle--opened");
  });
  var o = document.querySelectorAll(".menu__link");

  for (var _e2 = 0; _e2 < o.length; _e2++) {
    o[_e2].addEventListener("click", function () {
      document.querySelector(".menu").classList.remove("menu--opened"), document.querySelector(".top__toggle").classList.remove("menu--opened");
    });
  }

  var l = window.matchMedia("(min-width: 1280px)"),
      r = document.querySelectorAll(".js-show-member");

  for (var _e3 = 0; _e3 < r.length; _e3++) {
    r[_e3].addEventListener("mouseenter", function () {
      l.matches && (this.parentNode.querySelector(".team__member-description").classList.add("team__member-description--opened"), this.parentNode.querySelector(".team__member-imgbox").classList.add("team__member-imgbox--opened"));
    }), r[_e3].parentNode.addEventListener("mouseleave", function () {
      l.matches && (this.querySelector(".team__member-description").classList.remove("team__member-description--opened"), this.querySelector(".team__member-imgbox").classList.remove("team__member-imgbox--opened"));
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJTd2lwZXIiLCJkaXJlY3Rpb24iLCJsb29wIiwiZWZmZWN0IiwibmF2aWdhdGlvbiIsInBhZ2luYXRpb24iLCJlbCIsIm5leHRFbCIsInByZXZFbCIsImVhY2giLCJ0aGlzIiwidGV4dCIsInNjcm9sbFN0YXRIZWlnaHQiLCJvdXRlckhlaWdodCIsIndpbmRvdyIsIm9uIiwic2Nyb2xsVG9wIiwic3BpbmNyZW1lbnQiLCJ0aG91c2FuZFNlcGFyYXRvciIsImR1cmF0aW9uIiwicGFyYWxsYXgiLCJpbWFnZVNyYyIsInNwZWVkIiwidmFsaWRhdGUiLCJpbnB1dG1hc2siLCJ2YWxpZGF0b3IiLCJhZGRNZXRob2QiLCJ2YWx1ZSIsImVsZW1lbnQiLCJvcHRpb25hbCIsImxlbmd0aCIsImZlYXR1cmVUZXh0Q29sdW1uIiwibWF0Y2hNZWRpYSIsImhlaWdodHNFUSIsImVsZW1lbnRzIiwibWF4SGVpZ2h0IiwiaSIsInN0eWxlIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2l6ZVRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicXVlcnlTZWxlY3RvckFsbCIsImZlYXR1cmVfX3RleHRzIiwibWF0Y2hlcyIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJtZW51X19saW5rcyIsInJlbW92ZSIsInNob3dNZW1iZXJzQnJlYWtQb2ludCIsInRlYW1NZW1iZXJzIiwicGFyZW50Tm9kZSIsImFkZCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBQSxDQUFBQSxDQUFFQyxRQUFGRCxDQUFBQSxDQUFZRSxLQUFaRixDQUFrQixZQUFBO0FBQUE7O0FBZ0JDLE1BQUlHLE1BQUosQ0FBVyxtQkFBWDtBQUVYQyxJQUFBQSxTQUFBQSxFQUFXLFlBRkE7QUFHWEMsSUFBQUEsSUFBQUEsRUFBQUEsQ0FBTSxDQUhLO0FBSVhDLElBQUFBLE1BQUFBLEVBQVEsTUFK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InNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICQoXCIuaGVhZGVyX19zbGlkZXJcIikub3dsQ2Fyb3VzZWwoe1xyXG4gICAgLy8gICAgIGxvb3A6IHRydWUsXHJcbiAgICAvLyAgICAgYXV0b1dpZHRoOiB0cnVlLFxyXG4gICAgLy8gICAgIGl0ZW1zOiAxLFxyXG4gICAgLy8gICAgIGF1dG9QbGF5OiB0cnVlLFxyXG4gICAgLy8gICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAvLyAgICAgc21hcnRTcGVlZDogNTAwLFxyXG4gICAgLy8gICAgIHRyYW5zaXRpb25TdHlsZTogXCJmYWRlXCIsXHJcbiAgICAvLyAgICAgZG90czogZmFsc2UsXHJcbiAgICAvLyAgICAgc2luZ2xlSXRlbTogdHJ1ZSxcclxuICAgIC8vICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgIC8vICAgICBuYXZpZ2F0aW9uOiB0cnVlLFxyXG4gICAgLy8gICAgIG5hdmlnYXRpb25UZXh0OiAnJ1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgdmFyIG15U3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7XHJcbiAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgZWZmZWN0OiAnZmFkZScsXHJcbiAgICAgICAgbmF2aWdhdGlvbjogdHJ1ZSxcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgbmVlZCBwYWdpbmF0aW9uXHJcbiAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gTmF2aWdhdGlvbiBhcnJvd3NcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogJy5uZXh0JyxcclxuICAgICAgICAgICAgcHJldkVsOiAnLnByZXYnLFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEFuZCBpZiB3ZSBuZWVkIHNjcm9sbGJhclxyXG4gICAgICAgIHNjcm9sbGJhcjoge1xyXG4gICAgICAgICAgICBlbDogJy5zd2lwZXItc2Nyb2xsYmFyJyxcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxuXHJcbiAgICAkKCcuc3BpbmNyZW1lbnQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLnRleHQoJzAnKTtcclxuICAgIH0pXHJcbiAgICBsZXQgc2Nyb2xsU3RhdEhlaWdodCA9ICQoJy5oZWFkZXInKS5vdXRlckhlaWdodCgpICsgJCgnLmZlYXR1cmVzJykub3V0ZXJIZWlnaHQoKSArICQoJy5oaXN0b3J5Jykub3V0ZXJIZWlnaHQoKSAtIDIwMDtcclxuICAgICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBzY3JvbGxTdGF0SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICQoJy5zcGluY3JlbWVudCcpLnNwaW5jcmVtZW50KHtcclxuICAgICAgICAgICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiAnJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG4gICAgJCgnLnN0YXQnKS5wYXJhbGxheCh7XHJcbiAgICAgICAgaW1hZ2VTcmM6ICdpbWcvcGVvcGxlLmpwZycsXHJcbiAgICAgICAgc3BlZWQ6IDAuMVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLWZvcm0nKS52YWxpZGF0ZSgpO1xyXG5cclxuICAgICQoJy5qcy1tYXNrLXBob25lJykuaW5wdXRtYXNrKCcrNyAoOTk5KSA5OTkgOTktOTkgJyk7XHJcblxyXG4gICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKCdqcy1tYXNrLXBob25lJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgJChlbGVtZW50KS5pbnB1dG1hc2soJ3VubWFza2VkdmFsdWUnKS5sZW5ndGggPT09IDEwO1xyXG4gICAgfSwgJ9CS0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Ri9C5INC90L7QvNC10YAnKTtcclxuXHJcbiAgICBsZXQgZmVhdHVyZVRleHRDb2x1bW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDU3NXB4KVwiKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IHJlc2l6ZVRpbWVvdXQ7XHJcbiAgICAgICAgaWYgKCFyZXNpemVUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIHJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlc2l6ZVRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0c0VRKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mZWF0dXJlX190aXRsZScpKTtcclxuICAgICAgICAgICAgICAgIGhlaWdodHNFUShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVfX2lubmVyJykpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZlYXR1cmVfX3RleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZlYXR1cmVfX3RleHQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZVRleHRDb2x1bW4ubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodHNFUShmZWF0dXJlX190ZXh0cyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVhdHVyZV9fdGV4dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZV9fdGV4dHNbaV0uc3R5bGUuaGVpZ2h0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBoZWlnaHRzRVEoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZlYXR1cmVfX3RpdGxlJykpO1xyXG4gICAgaGVpZ2h0c0VRKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZV9faW5uZXInKSk7XHJcbiAgICBpZiAoZmVhdHVyZVRleHRDb2x1bW4ubWF0Y2hlcykge1xyXG4gICAgICAgIGhlaWdodHNFUShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVhdHVyZV9fdGV4dCcpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaGVpZ2h0c0VRKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IG1heEhlaWdodCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlbGVtZW50c1tpXS5zdHlsZS5oZWlnaHQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uY2xpZW50SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBlbGVtZW50c1tpXS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlbGVtZW50c1tpXS5zdHlsZS5oZWlnaHQgPSBtYXhIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2pzLXRvcG1lbnUtdG9nZ2xlXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdG9wbWVudS10b2dnbGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtLW9wZW5lZCcpO1xyXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgndG9wX190b2dnbGUtLW9wZW5lZCcpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBtZW51X19saW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19saW5rJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVfX2xpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbWVudV9fbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS0tb3BlbmVkJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3BfX3RvZ2dsZScpLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtLW9wZW5lZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzaG93TWVtYmVyc0JyZWFrUG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDEyODBweClcIik7XHJcblxyXG4gICAgbGV0IHRlYW1NZW1iZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXNob3ctbWVtYmVyJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlYW1NZW1iZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGVhbU1lbWJlcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHNob3dNZW1iZXJzQnJlYWtQb2ludC5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLnRlYW1fX21lbWJlci1kZXNjcmlwdGlvbicpLmNsYXNzTGlzdC5hZGQoJ3RlYW1fX21lbWJlci1kZXNjcmlwdGlvbi0tb3BlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLnRlYW1fX21lbWJlci1pbWdib3gnKS5jbGFzc0xpc3QuYWRkKCd0ZWFtX19tZW1iZXItaW1nYm94LS1vcGVuZWQnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZWFtTWVtYmVyc1tpXS5wYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzaG93TWVtYmVyc0JyZWFrUG9pbnQubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcudGVhbV9fbWVtYmVyLWRlc2NyaXB0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgndGVhbV9fbWVtYmVyLWRlc2NyaXB0aW9uLS1vcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLnRlYW1fX21lbWJlci1pbWdib3gnKS5jbGFzc0xpc3QucmVtb3ZlKCd0ZWFtX19tZW1iZXItaW1nYm94LS1vcGVuZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIC8vPT09PVxyXG59KTsiXX0=
